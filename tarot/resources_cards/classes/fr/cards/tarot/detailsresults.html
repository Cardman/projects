<html c:bean="details" xmlns:c="javahtml">
<head>
<title>Results</title>
<link href="resources_cards/css/main.css" rel="stylesheet" type="text/css" />
</head>
<body>
	<c:if condition="playClassicGame()">
		<h1>Calcul des points li&eacute;s &agrave; l''ench&egrave;re</h1>
		<p>Base de points pour l''ench&egrave;re: {basePoints}</p>
		<p>Joueur ayant men&eacute; le Petit au bout: {playerSmall}</p>
		<p>Diff&eacute;rence entre les points du preneur et les points
			n&eacute;cessaires pour gagner la partie : {differenceScoreTaker}</p>
		<p>Coefficient en relation avec l''ench&egrave;re: {rate}</p>
		<p>Score du preneur sans les annonces: ( {basePoints} + {small} +
			{differenceScoreTaker} ) * {rate} = {multipliedTmp} points</p>
		<h1>Calcul des annonces des joueurs</h1>
		<ul>
			<c:for var="l" list="linesDeclaring" className='cards.tarot.beans.SumDeclaringPlayer'>
				<li>annonces de {l;nickname} ({l;status}): <br />
					<ul>
						<c:for key="h" value="p" map="l;handfuls">
							<li>{h;} : {p;}</li>
						</c:for>
						<c:for key="m" value="p" map="l;miseres">
							<li>{m;} : {p;}</li>
						</c:for>
						<li>Somme : {l;sum}</li>
					</ul>
				</li>
			</c:for>
			<li>Somme des annonces des joueurs: {sumPlayers}</li>
		</ul>
		<br />
		<h1>Primes suppl&eacute;mentaires</h1>
		Prime pour l''attaque:{additionnalBonusesAttack}<br />
		Prime pour la d&eacute;fense:{additionnalBonusesDefense}<br />
		Somme des primes: {diffAttackDefenseBonuses}<br />
		<table border="1">
			<caption>Coefficient et scores de cette partie pour chaque
				joueur</caption>
			<thead>
				<tr>
					<td>Joueur</td>
					<td title="Ce coefficient est appliqu&eacute; au score du preneur">Coefficient</td>
					<td
						title="Ce score est en relation lin&eacute;aire avec le score du preneur et le coefficient">Score</td>
				</tr>
			</thead>
			<tbody>
				<c:for var="l" list="playersScores" className='cards.tarot.beans.ScoresPlayers'>
					<tr>
						<td>{l;nickname}</td>
						<td>{l;rate}</td>
						<td>{l;score}</td>
					</tr>
				</c:for>
			</tbody>
		</table>
	</c:if>
	<c:if condition="playVariantModeGame()">
		<table border="1">
			<caption>Etapes de calculs de la position des joueurs par
				crit&egrave;res</caption>
			<thead>
				<tr>
					<td>Pseudo</td>
					<td>Classement li&eacute;e &agrave; la diff&eacute;rence de points</td>
					<td>Classement li&eacute;e au nombre de bouts</td>
					<td>Classement li&eacute;e au nombre de figures</td>
					<td>Classement li&eacute;e &agrave; la hauteur des figures</td>
					<td>Classement finale</td>
				</tr>
			</thead>
			<tbody>
				<c:for var="l" list="orderedPlayers" className='cards.tarot.beans.RankingPlayerVariantGame'>
					<tr>
						<td>{l;nickname}</td>
						<td>{l;positionDiff}</td>
						<td>{l;positionOudlers}</td>
						<td>{l;positionCharacters}</td>
						<td>{l;positionStrengthCharacters}</td>
						<td>{l;finalPosition}</td>
					</tr>
				</c:for>
			</tbody>
		</table>
		<table border="1">
			<caption>Calcul des points des joueurs</caption>
			<thead>
				<tr>
					<td>Pseudo</td>
					<td>Points gagn&eacute;es dans les plis</td>
					<td>Score minimal pour gagner</td>
					<td>Diff&eacute;rences de points</td>
					<td>Coefficient</td>
					<td>Score</td>
				</tr>
			</thead>
			<tbody>
				<c:for var="l" list="pointsPlayers" className='cards.tarot.beans.PointsPlayerVariantGame'>
					<tr>
						<td>{l;nickname}</td>
						<td>{l;pointsTricks}</td>
						<td>{l;minimumPoints}</td>
						<td>{l;differenceScore}</td>
						<td>{l;rate}</td>
						<td>{l;score}</td>
					</tr>
				</c:for>
			</tbody>
		</table>
		<h1>Calcul des annonces des joueurs</h1>
		<ul>
			<c:for var="l" list="linesDeclaring" className='cards.tarot.beans.SumDeclaringPlayer'>
				<li>annonce de {l;nickname}: <br />
					<ul>
						<c:for key="h" value="p" map="l;handfuls">
							<li>{h;}</li>
						</c:for>
						<c:for key="m" value="p" map="l;miseres">
							<li>{m;}</li>
						</c:for>
					</ul>
				</li>
			</c:for>
		</ul>
		<h1>Primes</h1>
		<table border="1">
			<caption>Primes suppl&eacute;mentaires des joueurs</caption>
			<thead>
				<tr>
					<td>Joueur</td>
					<td>Prime</td>
				</tr>
			</thead>
			<tbody>
				<c:for var="l" list="bonuses" className='cards.tarot.beans.BonusesPlayers'>
					<tr>
						<td>{l;nickname}</td>
						<td>{l;bonus}</td>
					</tr>
				</c:for>
			</tbody>
		</table>
	</c:if>
</body>
</html>
